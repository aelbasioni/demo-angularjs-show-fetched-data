<!DOCTYPE html>
<html lang="en" ng-app="testApp">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Cheese Prices</title>


    <!-- Minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="Content/css/styles.min.css">

    <!-- Optional IE8 Support -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body ng-cloak ng-controller="demoController">
    <div class="container">

        <h1 style="margin-bottom:40px"><img src="Content/imgs/roomi_logo.png" class="item_logo" alt=""/>Cheese Prices</h1>

        <!-- Loading -->
        <!-- Error placeholder -->
        <div id="err_container" class="alert alert-danger collapse text-center">
            <span id="err_msg"></span>
        </div>
        <!-- End Error placeholder -->
        <!--Prices area -->
        <div ng-if="cheeseData.prices && cheeseData.prices.length > 0">
            <a href="javascript:void();" ng-click="getCheesePrices()" class="btn btn-primary m-b-5 pull-right" title="Reload prices" aria-label="reload prices">🗘</a>
            <span id="emp_count_txt" class="pull-left">{{(cheeseData.prices)?cheeseData.prices.length +' items':''}}</span>
            <table class="table table-condensed table-striped table-bordered">
                <thead>
                    <tr>
                        <th colspan="10">Oldness</th>
                    </tr>
                    <tr>
                        <th>Cheese</th>
                        <th data-ng-repeat="year in cheeseData.years">{{year}}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr data-ng-repeat="item in cheeseData.prices">
                        <td>{{item.name}}</td>
                        <td data-ng-repeat="price in item.price_data">{{price}}</td>
                    </tr>
                </tbody>
            </table>            
        </div>
        <!--End prices area -->
        <!--Chart and its legend-->
        <div class="chart_area">
            <div class="chart_title" ng-if="cheeseData.prices && cheeseData.prices.length > 0">Cheese Types Prices over Time</div>
            <canvas id="lineChart" style="height: 200px"></canvas>
        </div>
        <div id="line-legend" class="chart-legend"></div>
        <!--End Chart and its legend-->

        <!-- Status area -->
        <div class="text-center" id="status_msg">
            {{dataStatus}}
        </div>
        <!-- End Status area -->
    </div>

    <!--angularjs script-->
    <script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.5/angular.min.js"></script>
    <!--chartjs script-->
    <script src="Scripts/chartjs/Chart.min.js"></script>
    <!--my app script-->
    <script src="Scripts/app.min.js"></script>
</body>
</html>
